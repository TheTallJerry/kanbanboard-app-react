(this["webpackJsonptask-react-modern"]=this["webpackJsonptask-react-modern"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(4),i=n.n(c),o=(n(18),n(11)),r=n(2),l=n(33),d=[{id:1,name:"TODO",limit:5,color:"#A162D8 ",taskIds:[{id:Object(l.a)(),text:"Status component",idColumn:1,user:"Anna"},{id:Object(l.a)(),text:"New slides for presentation",idColumn:1,user:"Anna"}],first:"What's the situation? Feel free to explain it in as much detail as you'd like.",second:"What part of the situation is most troubling?",third:"Why did you decide to take this action (there're countless ways to reduce stress, why this specific one in this specific case)?"},{id:2,name:"In progress",limit:5,color:"#5A9DF9",taskIds:[{id:Object(l.a)(),text:"Blog assets",idColumn:2,user:"David"}],first:"How are you feeling at this very moment, right before starting this activity? What's on your mind?",second:"What kind of state of mind are you hoping to land on after this activity?",third:"Why did you decide to start this activity at this moment?"},{id:3,name:"Done",limit:5,color:"#1387BE",taskIds:[{id:Object(l.a)(),text:"Change css img",idColumn:3,user:"Anna"},{id:Object(l.a)(),text:"Meeting",idColumn:3,user:"Anna"}],first:"Re-type the summary of the situation in the following format: Trigger: Thought: Feeling: Behaviour",second:"How did your plan/expectations go? What worked and what didn't?",third:"If you were to explore an alternative activity, how would you do it? Why?"}],u=n(3),b=(n(19),n(5));var j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(a.useState)(e),n=Object(r.a)(t,2),s=n[0],c=n[1];return[s,function(){c(!s)}]},m=function(e){var t=Object(a.useState)(e),n=Object(r.a)(t,2),s=n[0],c=n[1];return[s,function(e){c(e.target.value)}]},h=(n(20),n(1)),p=function(e){var t=m(e.startText),n=Object(r.a)(t,2),a=n[0],s=n[1],c=m(e.startUser),i=Object(r.a)(c,2),o=i[0],l=i[1];return Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.editTask(e.taskId,o,a),e.toggle()},className:"KanbanEditForm",children:[Object(h.jsxs)("div",{className:"KanbanEditForm-input-container",children:[Object(h.jsx)("label",{htmlFor:"task",children:"Task: "}),Object(h.jsx)("textarea",{className:"KanbanEditForm-input-textarea",type:"text",cols:"15",rows:"5",value:a,onChange:s,name:"task",id:"task",required:!0})]}),Object(h.jsxs)("div",{className:"KanbanEditForm-input-container",children:[Object(h.jsx)("label",{htmlFor:"user",children:"For: "}),Object(h.jsx)("input",{className:"KanbanEditForm-input",type:"text",name:"user",id:"user",value:o,onChange:l,required:!0})]}),Object(h.jsx)("button",{className:"KanbanEditForm-btn",style:{backgroundColor:"".concat(e.color)},children:"Save"})]})},O=function(e){var t=j(!1),n=Object(r.a)(t,2),a=n[0],s=n[1];return Object(h.jsx)(b.b,{draggableId:"".concat(e.task.id),index:e.index,children:function(t){return Object(h.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({className:"KanbanTask"},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:a?Object(h.jsx)(p,{color:e.color,editTask:e.editTask,taskId:e.task.id,toggle:s,startUser:e.task.user,startText:e.task.text}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"KanbanTask-assigned",children:Object(h.jsx)("span",{className:"KanbanTask-assigned-img",children:e.task.user})}),Object(h.jsx)("div",{className:"KanbanTask-content",children:e.task.text}),Object(h.jsxs)("div",{className:"KanbanTask-options",children:[Object(h.jsx)("button",{className:"KanbanTask-btn-edit",style:{backgroundColor:"".concat(e.color)},onClick:s,children:"Edit"}),Object(h.jsx)("button",{className:"KanbanTask-btn-delete",style:{backgroundColor:"".concat(e.color)},onClick:function(){return e.removeTask(e.task.id)},children:"Cancel"})]})]})}))}})},x=(n(25),function(e){return Object(h.jsxs)("div",{className:"KanbanColumn",style:{backgroundColor:"".concat(e.columnData.color)},children:[Object(h.jsxs)("div",{className:"KanbanColumn-main",children:[Object(h.jsx)("h2",{className:"KanbanColumn-name",children:e.columnData.name}),Object(h.jsxs)("p",{className:"KanbanColumn-numbers",children:[e.columnData.taskIds.length," / ",e.columnData.limit,";"]}),Object(h.jsx)(b.c,{droppableId:"".concat(e.columnData.id-1),children:function(t){return Object(h.jsxs)("div",Object(u.a)(Object(u.a)({ref:t.innerRef,className:"KanbanColumns-tasks-container"},t.droppableProps),{},{children:[e.columnData.taskIds.map((function(t,n){return Object(h.jsx)(O,{id:t.id,task:t,color:e.columnData.color,index:n,removeTask:e.removeTask,editTask:e.editTask},t.id)})),t.placeholder]}))}})]}),1===e.columnData.id&&Object(h.jsx)("div",{className:"KanbanColumn-footer",children:Object(h.jsx)("button",{className:"KanbanColumn-btn-add",onClick:function(){return e.openModal(e.columnData)},disabled:e.columnData.taskIds.length>=5,children:"Add task"})})]})}),f=(n(26),n(27),function(e){var t=m(""),n=Object(r.a)(t,2),a=n[0],s=n[1],c=m(""),i=Object(r.a)(c,2),o=i[0],d=i[1],u=e.columnData,b={id:Object(l.a)(),text:a,idColumn:u,user:o};return Object(h.jsx)("div",{className:"KanbanModal",children:Object(h.jsxs)("section",{className:"KanbanModal-content",children:[Object(h.jsx)("span",{className:"KanbanModal-close-btn",onClick:e.closeModal}),Object(h.jsxs)("form",{className:"KanbanModal-form",onSubmit:function(t){t.preventDefault(),e.addTask(b)},children:[Object(h.jsxs)("div",{className:"KanbanModal-input-container",children:[Object(h.jsx)("label",{htmlFor:"task",children:"Task: "}),Object(h.jsx)("textarea",{className:"KanbanModal-input",type:"text",cols:"20",rows:"5",value:a,onChange:s,name:"task",id:"task"})]}),Object(h.jsxs)("div",{className:"KanbanModal-input-container",children:[Object(h.jsx)("label",{htmlFor:"user",children:"For: "}),Object(h.jsx)("input",{className:"KanbanModal-input",type:"text",name:"user",id:"user",value:o,onChange:d})]}),Object(h.jsx)("button",{className:"KanbanModal-input-submit-btn",children:"Submit"})]})]})})}),k=(n(28),n(7)),v={color:"white",fontSize:"1.5rem",cursor:"pointer"},g=function(){return Object(h.jsxs)("div",{className:"KanbanSidebar",children:[Object(h.jsx)("div",{className:"KanbanSidebar-upperColumn",children:Object(h.jsx)(k.a,{style:v})}),Object(h.jsxs)("div",{className:"KanbanSidebar-bottomColumn",children:[Object(h.jsx)(k.b,{style:v}),Object(h.jsx)(k.d,{style:v}),Object(h.jsx)(k.c,{style:v})]})]})},N=(n(29),function(e){var t=m(""),n=Object(r.a)(t,2),a=n[0],s=n[1],c=m(""),i=Object(r.a)(c,2),o=i[0],l=i[1],d=m(""),u=Object(r.a)(d,2),b=u[0],j=u[1],p=e.columnData;return Object(h.jsx)("div",{className:"KanbanPopup",children:Object(h.jsxs)("section",{className:"KanbanPopup-content",children:[Object(h.jsx)("span",{className:"KanbanPopup-close-btn",onClick:e.closePopup}),Object(h.jsxs)("form",{className:"KanbanPopup-form",onSubmit:function(e){e.preventDefault()},children:[Object(h.jsxs)("div",{className:"KanbanPopup-input-container",children:[Object(h.jsx)("div",{className:"KanbanModel-input-label",children:Object(h.jsx)("label",{htmlFor:"first",children:p.first})}),Object(h.jsx)("input",{className:"KanbanPopup-input",type:"text",name:"first",id:"first",value:a,onChange:s})]}),Object(h.jsxs)("div",{className:"KanbanPopup-input-container",children:[Object(h.jsx)("div",{className:"KanbanModel-input-label",children:Object(h.jsx)("label",{htmlFor:"second",children:p.second})}),Object(h.jsx)("input",{className:"KanbanPopup-input",type:"text",name:"second",id:"second",value:o,onChange:l})]}),Object(h.jsxs)("div",{className:"KanbanPopup-input-container",children:[Object(h.jsx)("div",{className:"KanbanModel-input-label",children:Object(h.jsx)("label",{htmlFor:"third",children:p.third})}),Object(h.jsx)("input",{className:"KanbanPopup-input",type:"text",name:"third",id:"third",value:b,onChange:j})]}),Object(h.jsx)("button",{className:"KanbanPopup-input-submit-btn",onClick:e.closePopup,children:"Submit"})]})]})})}),K=function(){var e=Object(a.useState)(JSON.parse(window.localStorage.getItem("columns"))||d),t=Object(r.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),i=Object(r.a)(c,2),l=i[0],u=i[1],j=Object(a.useState)(!1),m=Object(r.a)(j,2),p=m[0],O=m[1],k=function(e){console.log(e),O(e)},v=function(e){var t=e.id;u(t)},K=function(e){var t=n.map((function(t){return Object.assign({},t,{taskIds:t.taskIds.filter((function(t){return t.id!==e}))})})).filter((function(e){return e.taskIds.length>=0}));s(t)},y=function(e,t,a){var c=n.map((function(n){return Object.assign({},n,{taskIds:n.taskIds.map((function(n){return n.id===e?(n.user=t,n.text=a,n):n}))})}));s(c)};return Object(a.useEffect)((function(){window.localStorage.setItem("columns",JSON.stringify(n))}),[n]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{}),Object(h.jsx)(b.a,{onDragEnd:function(e){var t=e.destination,a=e.source;if(t)if(t.droppableId!==a.droppableId||t.index!==a.index){var c=n[a.droppableId],i=n[t.droppableId];if(c===i){var l=Array.from(c.taskIds),d=l[a.index];l.splice(a.index,1),l.splice(t.index,0,d);var u=n.map((function(e){return e.id===c.id?(e.taskIds=l,e):e})),b=Object(o.a)(u);s(b)}else{if(i.id>c.id&&k(i.id),!(i.taskIds.length<i.limit))return;var j=Array.from(c.taskIds),m=j.splice(a.index,1),h=Object(r.a)(m,1)[0],p=Array.from(i.taskIds);p.splice(t.index,0,h);var O=n.map((function(e){return e.id===c.id?(e.taskIds=j,e):e.id===i.id?(e.taskIds=p,e):e})),x=Object(o.a)(O);s(x)}}else console.log("index and destination the same");else console.log("no destination")},children:Object(h.jsxs)("div",{className:"Kanban",children:[l&&Object(h.jsx)(f,{closeModal:function(){u(!1)},addTask:function(e){u(!1);var t=n.map((function(t){return t.id===e.idColumn&&t.taskIds.length<5?(t.taskIds.push(e),t):t}));s(t)},columnData:l}),p&&1!=p&&Object(h.jsx)(N,{closePopup:function(){O(!1)},columnData:n[p-1]}),Object(h.jsx)("h1",{className:"Kanban-title",children:"Kanban"}),Object(h.jsx)("div",{className:"Kanban-columns-container",children:n.map((function(e){return Object(h.jsx)(x,{columnData:e,openModal:v,openPopup:k,removeTask:K,editTask:y},e.name)}))})]})})]})};n(30);var y=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(K,{})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root")),C()}},[[31,1,2]]]);
//# sourceMappingURL=main.87b9fc9d.chunk.js.map